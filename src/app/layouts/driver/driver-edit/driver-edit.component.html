<br />
<div class="card">
  <div class="card-header " style="background-color:#f7f7f7;">
    Inserer Chauffeur
  </div>
  <div class="card-body border-top-primary">
    <form [formGroup]="driverForm">
      <div class="row justify-content-around">
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Cin" | translate }}*</label>
          <span
            *ngIf="
              (driverForm.get('cin').touched &&
                driverForm.get('cin').invalid) ||
              (isFormSubmitted && driverForm.get('cin').invalid)
            "
            class="text-lighter"
            style="color: red; font-size: xx-small;"
          >
            Ce Champs est obligatoire
          </span>
          <br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="cin"
          />
        </div>

        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Code" | translate }}* </label>
          <span
            *ngIf="
              (driverForm.get('code').touched &&
                driverForm.get('code').invalid) ||
              (isFormSubmitted && driverForm.get('code').invalid)
            "
            class="text-lighter"
            style="color: red; font-size: xx-small;"
          >
            Ce Champs est obligatoire
          </span>
          <br />

          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="code"
          />
        </div>
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Nom" | translate }}* </label>
          <span
            *ngIf="
              (driverForm.get('nom').touched &&
                driverForm.get('nom').invalid) ||
              (isFormSubmitted && driverForm.get('nom').invalid)
            "
            class="text-lighter"
            style="color: red; font-size: xx-small;"
          >
            Ce Champs est obligatoire
          </span>
          <br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="nom"
          />
        </div>
      </div>

      <div class="row justify-content-around">
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{
            "Date Naissance" | translate
          }}</label
          ><br />
          <p-calendar
            [monthNavigator]="true"
            [yearNavigator]="true"
            dateFormat="dd/mm/yy"
            [locale]="fr"
            formControlName="dateNaissance"
            yearRange="1970:2100"
          ></p-calendar>
        </div>
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{
            "Visite Médicale" | translate
          }}</label
          ><br />
          <p-calendar
            [monthNavigator]="true"
            [yearNavigator]="true"
            dateFormat="dd/mm/yy"
            [locale]="fr"
            formControlName="visiteMedicale"
            yearRange="1970:2100"
          ></p-calendar>
        </div>

        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Comission" | translate }}</label
          ><br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="comission"
            pKeyFilter="num"
          />
        </div>
      </div>
      <div class="row justify-content-around">
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{
            "N° Téléphone" | translate
          }}</label
          ><br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="tele"
          />
        </div>

        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "N° Fax" | translate }}</label
          ><br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="fax"
          />
        </div>
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Email" | translate }}</label
          ><br />
          <input
            type="text"
            class="form-control"
            pInputText
            formControlName="email"
          />
        </div>
      </div>
      <div class="row justify-content-around">
        <div class="form-group col-md-3">
          <label class="font-weight-bold ">{{ "Badge" | translate }}* </label>
          <span
            *ngIf="
              (driverForm.get('badge').touched &&
                driverForm.get('badge').invalid) ||
              (isFormSubmitted && driverForm.get('badge').invalid)
            "
            class="text-lighter"
            style="color: red; font-size: xx-small;"
          >
            Ce Champs est obligatoire
          </span>
          <br />
          <p-dropdown
            [autoDisplayFirst]="false"
            [options]="badgesList"
            optionLabel="code"
            [filter]="true"
            [showClear]="true"
            (onChange)="onSelectBadgeCode($event)"
            formControlName="badge"
          >
          </p-dropdown>
        </div>
        <div class="form-group col-md-3"></div>
        <div class="form-group col-md-3"></div>
      </div>
      <br />
      <br />
      <br />

      <div class="text-center">
        <a
          class="btn btn-primary m-1"
          [routerLink]="['/core/drivers/list']"
          routerLinkActive="active"
        >
          {{ "Fermer" | translate }}
        </a>
        <button
          type="button"
          class="btn btn-success m-1"
          (click)="onSubmitForm()"
        >
          {{ "Valider et continue" | translate }}
        </button>

        <button
          type="button"
          class="btn btn-success m-1"
          (click)="onSubmitForm(true)"
        >
          {{ "Valider" | translate }}
        </button>
      </div>
    </form>
  </div>
</div>

<ngx-spinner
  bdColor="rgba(255,255,255,0)"
  size="large"
  color="#00d2ff"
  type="ball-spin-fade-rotating"
></ngx-spinner>

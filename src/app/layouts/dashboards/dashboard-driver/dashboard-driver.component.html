<div class="page-content fade-in-up">
    <p-panel header="Filters" [toggleable]="true">

        <div class="row  mt-1 ">
          


            <div class="col-md-3">            
                <label class="font-weight-bold">{{'Conducteur' | translate}}  </label
                ><br />
                <p-autoComplete
                [(ngModel)]="codeSearch"
                [suggestions]="driverList"
                (completeMethod)="onDriverCodeSearch($event)"
                field="name"
              ></p-autoComplete>
             
              </div>
           
      
         
      
            <div class="col-md-3">
                <label class="font-weight-bold"> {{'Date' | translate}} </label
                ><br /> 
                <p-calendar          [maxDateCount]='2'     [(ngModel)]="dateSearch"
                [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" selectionMode="multiple" [showIcon]="true" inputId="icon" [readonlyInput]="true"></p-calendar>
             
              </div>

              <!-- <div class="col-md-3">
                <label class="font-weight-bold ">{{'Ancienneté par tranche'| translate}}</label><br />
                <p-dropdown
                [options]="seniorityList"
                optionLabel="header"
                [autoDisplayFirst]="false"
                [(ngModel)]="categorySearch"
              >
              </p-dropdown>
              </div> -->
      
          
          </div>
      
          <br />
          <br />
          <div class="text-center">
            <button type="button" class="btn btn-primary mr-2" (click)="reset()">
              <i class="fa fa-refresh mr-2"></i>
              {{'Réinitialiser'| translate}}
            </button>
      
            <button type="button" class="btn btn-success" (click)="onSearchClicked()">
              <i class="fa fa-search mr-2"></i>
      
              {{' Rechercher'| translate}}
            </button>
          </div>
      
      </p-panel>
      <br />

      <!-- <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="ibox  color-dark widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{averageConsumption | number : '1.2-2'}} DH/KM </h2>
                    <div class="m-b-5">Consommation moyenne</div>
                    <i class="ti-bar-chart widget-stat-icon bg-primary"  ></i>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="ibox  color-dark widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{mileageTraveled | number : '1.2-2'}} KM</h2>
                    <div class="m-b-5">Kilométrage parcouru</div>
                    <i class="fa fa-tachometer widget-stat-icon bg-success"></i>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="ibox  color-dark widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{correctiveMaintenanceCosts}} DH</h2>
                    <div class="m-b-5">Coûts de maintenance corrective</div>
                    <i class="fa fa-money widget-stat-icon bg-danger"></i>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="ibox  color-dark widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{preventiveMaintenanceCosts}} DH</h2>
                    <div class="m-b-5"> Coût de maintenance préventive</div>
                    <i class="fa fa-money widget-stat-icon bg-primary bg-warning"></i>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="ibox  color-dark widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{totalNumberOfProblems}}</h2>
                    <div class="m-b-5"> Nombre total de problèmes</div>
                    <i class="fa fa-cogs widget-stat-icon bg-primary"></i>
                </div>
            </div>
        </div>
    </div> -->


    <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="ibox bg-success color-white widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{averageConsumption | number : '1.2-2'}} DH/KM</h2>
                    <div class="m-b-5">Consommation moyenne</div><i
                        class="ti-bar-chart widget-stat-icon"></i>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="ibox bg-info color-white widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{mileageTraveled | number : '1.2'}} KM</h2>
                    <div class="m-b-5">Kilométrage parcouru</div><i
                        class="fa fa-tachometer widget-stat-icon"></i>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="ibox bg-dark color-white widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{totalNumberOfProblems}}</h2>
                    <div class="m-b-5">Nombre total de problèmes</div><i
                        class="fa fa-cogs widget-stat-icon"></i>
                </div>
            </div>
        </div>
    </div>


    


    <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="ibox bg-warning color-white widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{correctiveMaintenanceCosts}} DH</h2>
                    <div class="m-b-5">Coûts de maintenance corrective</div><i
                        class="fa fa-money widget-stat-icon"></i>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="ibox bg-danger color-white widget-stat">
                <div class="ibox-body">
                    <h2 class="m-b-5 font-strong">{{preventiveMaintenanceCosts}} DH</h2>
                    <div class="m-b-5">Coût de maintenance préventive</div><i
                        class="fa fa-money widget-stat-icon"></i>
                </div>
            </div>
        </div>

    </div>



    <div class="row">
        <div class="col-lg-8">
            <div class="ibox">
                <div class="ibox-body">
                    <div class="flexbox mb-4">
                        <div>
                            <h3 class="m-0">Statistique Consommation</h3>
                            <div>.</div>
                        </div>
                        <div class="d-inline-flex">
                            <div class="px-3" style="border-right: 1px solid rgba(0,0,0,.1);">
                                <div class="text-muted">Total</div>
                                <div>
                                    <span class="h2 m-0">{{gasoilCosts}} DH</span>
                                </div>
                            </div>
                           
                        </div>
                    </div>
                    <div>
                        <p-chart type="bar" [data]="barChartGasoilData" [options]="chartOptions"></p-chart>
                    </div>
                </div>
            </div>
        </div>
     
    </div>

<div class="row">
    <div class="col-lg-12">
        <div class="ibox">
            <div class="ibox-head">
                <div class="ibox-title">Consomation de gasoil </div>
            </div>
            <div class="ibox-body">

                <p-table [value]="dieselDeclarationList" responsiveLayout="scroll"
                [scrollable]="true" scrollHeight="400px">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="font-weight-bold ">Chauffeurs</th>
                            <th class="font-weight-bold ">Cin</th>
                            <th class="font-weight-bold ">Date Affectation</th>
                            <th class="font-weight-bold ">Quantité</th>
                            <th class="font-weight-bold ">Data</th>

                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-gasoil>
                        <tr>
                             <td  class="font-weight-bold h6">{{gasoil[0]}}</td>
                            <td  class="font-weight-bold h6">{{gasoil[1]}}</td>
                            <td  class="font-weight-bold h6">{{gasoil[2] | date: 'dd-MM-yyyy'}}</td>
                            <td  class="font-weight-bold h6">{{gasoil[3]}}L</td> 

                            
                            <td >
                                <p-progressBar value="{{gasoil[4] | number : '1.2-2'}}" [showValue]="true"></p-progressBar>
                             <!-- <p class="align-center">{{gasoil[4] | number : '1.2-2'}} %</p>    -->
                            </td> 

                        </tr>
                    </ng-template>
                </p-table>



                <!-- <table class="table table-striped m-t-20 visitors-table">
                    <thead>
                        <tr>
                            <th>Chauffeurs</th>
                            <th>Cin</th>
                            <th>Date Affectation</th>
                            <th>Quantité</th>

                            <th>Data</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>MOSTAKIM MOHAMMED</td>
                            <td>CD136278</td>
                            <td>19-01-2020</td>
                            <td>1600</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width:52%; height:5px;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="progress-parcent">30%</span>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>ouardi mohamed</td>
                            <td>C911193</td>
                            <td>03-05-2019</td>
                            <td>1500</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width:52%; height:5px;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="progress-parcent">28%</span>
                            </td>
                        </tr>

                        <tr>
                            <td>hassan lamhamdi</td>
                            <td>cd396808</td>
                            <td>04-03-2017</td>
                            <td>1200</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width:52%; height:5px;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="progress-parcent">25%</span>
                            </td>
                        </tr>
                        <tr>
                            <td>ezzine brahim</td>
                            <td>c202864</td>
                            <td>19-01-2020</td>
                            <td>1200</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width:52%; height:5px;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="progress-parcent">25%</span>
                            </td>
                        </tr>
                        <tr>
                            <td>abdelmoula elmoutaouakkel</td>
                            <td>y342470</td>
                            <td>19-01-2020</td>
                            <td>900</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width:52%; height:5px;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="progress-parcent">20%</span>
                            </td>
                        </tr>
                    </tbody>
                </table> -->
            </div>
        </div>
    </div>

</div>


    <!-- <div class="row">
        <div class="col-lg-8">
            <div class="ibox">
                <div class="ibox-head">
                    <div class="ibox-title">Consommation moyenne</div>
                  
                </div>
                <div class="ibox-body">
                    <p-table >
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Véhicule</th>
                                <th>Catégorie</th>
                                <th>Kilométrage parcouru</th>
                              

                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-product>
                            <tr>
                                <td>15A2530</td>
                                <td>25</td>
                                <td>20</td>
                                <td>420</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="ibox">
                <div class="ibox-head">
                    <div class="ibox-title">.</div>
                </div>
                <div class="ibox-body">
                  
                </div>
                <div class="ibox-footer text-center">
                    <a href="javascript:;">View All Products</a>
                </div>
            </div>
        </div>
    </div>
    <style>
        .visitors-table tbody tr td:last-child {
            display: flex;
            align-items: center;
        }

        .visitors-table .progress {
            flex: 1;
        }

        .visitors-table .progress-parcent {
            text-align: right;
            margin-left: 10px;
        }
    </style>
</div> -->